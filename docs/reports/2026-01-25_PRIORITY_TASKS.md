# üéØ Priority Task List (2026-01-25)

**Generated by:** Antigravity Agent  
**Status:** Ready to Execute  
**For the Commons Good.**

---

## üìä Current Infrastructure Status

| Component | Status | Notes |
|-----------|--------|-------|
| **7-Agent Pipeline** | ‚úÖ Ready | All agents implemented |
| **Backend (Netlify)** | ‚úÖ Ready | All publisher functions exist |
| **Frontend (UI)** | ‚úÖ Ready | CreativeHub, ResultsPreview wired |
| **YouTube API** | ‚úÖ Configured | Keys in Netlify |
| **X/Twitter API** | üü° Keys Need Fix | 401 error (key mismatch) |
| **LinkedIn API** | üî¥ Missing Keys | Backend ready, no credentials |
| **Instagram API** | üî¥ Missing Keys | Backend ready, no credentials |
| **TikTok API** | üî¥ Missing Keys | Backend ready, no credentials |

---

## üîß X/Twitter Key Fix (Root Cause Analysis)

### üö® CONFIRMED ISSUE (2026-01-25 16:41 UTC):
**Keys are from DIFFERENT X Developer Apps!**

```
TWITTER_API_KEY    = xVXmp1xIeJ...  (25 chars)
X_CONSUMER_KEY     = 33YzQeKk...    (50 chars)  ‚Üê DIFFERENT APP!
```

### Why 401 Happens:
OAuth 1.0a requires ALL 4 keys from the **SAME** X Developer App:
1. API Key (Consumer Key)
2. API Secret (Consumer Secret)
3. Access Token
4. Access Token Secret

If these come from different apps, authentication fails with 401.

### üõ†Ô∏è THE FIX:
1. Go to: https://developer.twitter.com/en/portal/dashboard
2. Select **ONE** app (the one you want to use)
3. Keys and Tokens tab ‚Üí Regenerate ALL keys
4. Copy ALL 4 keys from the SAME screen
5. Update Netlify with the matching set

### Current Netlify Keys (Need Alignment):
| Variable | Status | Notes |
|----------|--------|-------|
| `TWITTER_API_KEY` | ‚úÖ Present | From App A |
| `TWITTER_API_SECRET` | ‚úÖ Present | Needs to match App A |
| `TWITTER_ACCESS_TOKEN` | ‚úÖ Present | Must be App A's user token |
| `TWITTER_ACCESS_SECRET` | ‚úÖ Present | Must be App A's user token |
| `X_CONSUMER_KEY` | ‚ö†Ô∏è DUPLICATE | Different app - can delete |
| `X_CONSUMER_SECRET` | ‚ö†Ô∏è DUPLICATE | Different app - can delete |
| `X_ACCESS_TOKEN` | ‚ö†Ô∏è DUPLICATE | May conflict |
| `X_ACCESS_TOKEN_SECRET` | ‚ö†Ô∏è DUPLICATE | May conflict |

---

## üèÜ PRIORITY #1: Fix X/Twitter (15 minutes)

### Step 1: Verify Netlify Env Vars
```bash
cd C:\Users\Roberto002\Documents\GitHub\SirTrav-A2A-Studio
netlify env:list
```

### Step 2: Fix the Mismatch
```bash
# Option A: Add the correctly named variable
netlify env:set TWITTER_ACCESS_SECRET "YOUR_ACCESS_TOKEN_SECRET_VALUE"

# Option B: Or set all 4 with TWITTER_ prefix for consistency
netlify env:set TWITTER_API_KEY "your_api_key"
netlify env:set TWITTER_API_SECRET "your_api_secret"
netlify env:set TWITTER_ACCESS_TOKEN "your_access_token"
netlify env:set TWITTER_ACCESS_SECRET "your_access_secret"
```

### Step 3: Restart & Test
```bash
# Restart netlify dev (picks up new env vars)
netlify dev

# In another terminal, run test
node scripts/test-x-publish.mjs --verify-only
node scripts/test-x-publish.mjs --live
```

### Step 4: Expected Result
```
‚úÖ PASS: Successfully posted via OAuth 1.0a!
- Job Cost: $0.0012
```

---

## üèÜ PRIORITY #2: LinkedIn Setup (30 minutes)

### Why LinkedIn Next?
- Backend is **already complete** (`publish-linkedin.ts` - 431 lines, full implementation)
- OAuth2 is simpler than Instagram/TikTok
- Professional audience = high value for SirTrav brand

### Step 1: Create LinkedIn App
1. Navigate to: https://www.linkedin.com/developers/apps
2. Click **Create App**
3. Fill in:
   - App name: `SirTrav-A2A-Studio`
   - LinkedIn Page: (Create or use existing company page)
   - Logo: Upload logo
4. Products to Request:
   - ‚úÖ **Share on LinkedIn**
   - ‚úÖ **Sign In with LinkedIn using OpenID Connect**

### Step 2: Get Credentials (Auth Tab)
After app creation, go to **Auth** tab:
```
LINKEDIN_CLIENT_ID = (Your Client ID)
LINKEDIN_CLIENT_SECRET = (Your Client Secret)
```

### Step 3: Generate Access Token
Use LinkedIn's OAuth 2.0 flow or their Token Generator Tool:
```
LINKEDIN_ACCESS_TOKEN = (Your Access Token)
```

Optional (for company page posts):
```
LINKEDIN_ORGANIZATION_ID = (Your Company Page URN ID)
```

### Step 4: Add to Netlify
```bash
netlify env:set LINKEDIN_CLIENT_ID "your_client_id"
netlify env:set LINKEDIN_CLIENT_SECRET "your_client_secret"
netlify env:set LINKEDIN_ACCESS_TOKEN "your_access_token"
# Optional:
netlify env:set LINKEDIN_ORGANIZATION_ID "your_org_id"
```

### Step 5: Verify
```bash
# Create a test script (I can create this for you)
node scripts/test-linkedin-publish.mjs --verify-only
```

---

## üèÜ PRIORITY #3: U2A Platform Toggle UI (45 minutes)

### Goal:
Create a multi-platform toggle component that:
- Shows which platforms are enabled (healthcheck-driven)
- Lets user select which platforms to publish to
- Follows "No Fake Success" pattern

### Implementation Plan:
1. Create `src/components/PlatformToggle.tsx`
2. Wire to healthcheck endpoint for platform status
3. Add to ResultsPreview component
4. Update publish flow to accept platform list

---

## üèÜ PRIORITY #4: Instagram + TikTok (1+ hour each)

### Instagram Complexity:
- Requires Meta Business Account
- Needs Facebook Page linked to Instagram
- Longer approval process
- Env vars needed:
  ```
  INSTAGRAM_APP_ID
  INSTAGRAM_APP_SECRET
  INSTAGRAM_ACCESS_TOKEN
  INSTAGRAM_BUSINESS_ACCOUNT_ID
  ```

### TikTok Complexity:
- Requires TikTok for Developers approval
- Different OAuth flow
- Env vars needed:
  ```
  TIKTOK_CLIENT_KEY
  TIKTOK_CLIENT_SECRET
  TIKTOK_ACCESS_TOKEN
  ```

---

## üèÜ PRIORITY #5: End-to-End Pipeline Test (30 minutes)

### Goal:
Run full 7-agent pipeline with real video output

### Command:
```bash
node scripts/test-7-agents.mjs
```

### Expected Outcome:
- Director curates media ‚úÖ
- Writer generates narrative ‚úÖ
- Voice synthesizes speech ‚úÖ
- Composer provides music ‚úÖ
- Editor compiles video ‚úÖ
- Attribution generates credits ‚úÖ
- Publisher uploads to enabled platforms ‚úÖ

---

## üìã TODAY'S ACTION CHECKLIST

```
‚ñ° P1: Fix X/Twitter env var mismatch (15 min)
    ‚ñ° Check current Netlify env vars
    ‚ñ° Add/rename TWITTER_ACCESS_SECRET
    ‚ñ° Test with test-x-publish.mjs --live
    ‚ñ° Verify successful post

‚ñ° P2: Set up LinkedIn (30 min)
    ‚ñ° Create LinkedIn Developer App
    ‚ñ° Get Client ID + Secret
    ‚ñ° Generate Access Token
    ‚ñ° Add to Netlify env vars
    ‚ñ° Create test script
    ‚ñ° Verify connection

‚ñ° P3: Build Platform Toggle UI (45 min)
    ‚ñ° Create PlatformToggle.tsx component
    ‚ñ° Wire to healthcheck
    ‚ñ° Add to ResultsPreview
    ‚ñ° Test toggle behavior

‚ñ° P4: Document progress
    ‚ñ° Update AGENT_ASSIGNMENTS.md
    ‚ñ° Update TASK_STATUS.md
```

---

## üéØ Quick Terminal Commands Cheat Sheet

```bash
# Check environment
netlify env:list | grep -E "(TWITTER|X_|YOUTUBE|LINKEDIN|INSTAGRAM|TIKTOK)"

# Start dev server
netlify dev

# Run X test (verify config)
node scripts/test-x-publish.mjs --verify-only

# Run X test (live post)
node scripts/test-x-publish.mjs --live

# Run full pipeline test
node scripts/test-7-agents.mjs

# Check healthcheck
curl http://localhost:8888/.netlify/functions/healthcheck
```

---

## üîÆ What's Next After Today?

Once X + LinkedIn are GREEN, you'll have:
- **2/5 social platforms** fully operational
- Real publishing capability
- Foundation for Instagram + TikTok

**Next Sprint Focus:**
1. Instagram API setup (Meta Business Manager)
2. TikTok API setup (Developer Portal approval)
3. Engagement Loop activation (read mentions ‚Üí Memory Vault)
4. Production deployment to Netlify

---

*For the Commons Good.* üåç
