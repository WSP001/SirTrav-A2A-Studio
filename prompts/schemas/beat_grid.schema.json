{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BeatGrid",
  "type": "object",
  "required": ["version", "bpm", "offset_sec", "downbeats", "bars"],
  "properties": {
    "version": { "type": "string", "example": "1.0.0" },
    "bpm": { "type": "number", "minimum": 40, "maximum": 220 },
    "offset_sec": { "type": "number", "description": "First downbeat offset (sec) from audio start" },
    "time_signature": { "type": "string", "default": "4/4" },
    "downbeats": {
      "type": "array",
      "items": { "type": "number", "description": "Downbeat timestamp in seconds (float)" }
    },
    "bars": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["start_sec", "end_sec", "bar_index"],
        "properties": {
          "bar_index": { "type": "integer" },
          "start_sec": { "type": "number" },
          "end_sec": { "type": "number" }
        }
      }
    },
    "confidence": { "type": "number", "minimum": 0, "maximum": 1 }
  }
}
